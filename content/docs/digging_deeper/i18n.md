---
summary: \`@adonisjs/i18n`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¦ã€è¤‡æ•°ã®åœ°åŸŸã¨è¨€èªå‘ã‘ã®ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚
---

# å›½éš›åŒ–ã¨ãƒ­ãƒ¼ã‚«ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³

å›½éš›åŒ–ã¨ãƒ­ãƒ¼ã‚«ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€è¤‡æ•°ã®åœ°åŸŸã¨è¨€èªå‘ã‘ã®ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹ãŸã‚ã®æ”¯æ´ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚i18nï¼ˆå›½éš›åŒ–ã®ç•¥ç§°ï¼‰ã®ã‚µãƒãƒ¼ãƒˆã¯ã€`@adonisjs/i18n`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã‚ˆã£ã¦æä¾›ã•ã‚Œã¾ã™ã€‚

- **ãƒ­ãƒ¼ã‚«ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³**ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’è¤‡æ•°ã®è¨€èªã«ç¿»è¨³ã™ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã§ã™ã€‚å„è¨€èªç”¨ã«ã‚³ãƒ”ãƒ¼ã‚’ä½œæˆã—ã€Edgeãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€ã¾ãŸã¯`i18n` APIã‚’ä½¿ç”¨ã—ã¦ãã‚Œã‚‰ã‚’å‚ç…§ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

- **å›½éš›åŒ–**ã¯ã€**æ—¥ä»˜**ã€**æ™‚é–“**ã€**æ•°å€¤**ãªã©ã®å€¤ã‚’ç‰¹å®šã®åœ°åŸŸã‚„å›½ã«åŸºã¥ã„ã¦ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã§ã™ã€‚

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦è¨­å®šã—ã¾ã™ï¼š

```sh
node ace add @adonisjs/i18n
```

:::disclosure{title="addã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã£ã¦å®Ÿè¡Œã•ã‚Œã‚‹ã‚¹ãƒ†ãƒƒãƒ—ã‚’å‚ç…§"}

1. æ¤œå‡ºã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã‚’ä½¿ç”¨ã—ã¦`@adonisjs/i18n`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

2. `adonisrc.ts`ãƒ•ã‚¡ã‚¤ãƒ«å†…ã«æ¬¡ã®ã‚µãƒ¼ãƒ“ã‚¹ãƒ—ãƒ­ãƒã‚¤ãƒ€ã‚’ç™»éŒ²ã—ã¾ã™ã€‚

    ```ts
    {
      providers: [
        // ...ä»–ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€
        () => import('@adonisjs/i18n/i18n_provider')
      ]
    }
    ```

3. `config/i18n.ts`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

4. `middleware`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«`detect_user_locale_middleware`ã‚’ä½œæˆã—ã¾ã™ã€‚

5. `start/kernel.ts`ãƒ•ã‚¡ã‚¤ãƒ«å†…ã«æ¬¡ã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’ç™»éŒ²ã—ã¾ã™ã€‚

    ```ts
    router.use([
      () => import('#middleware/detect_user_locale_middleware')
    ])
    ```

:::

## è¨­å®š
i18nãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è¨­å®šã¯ã€`config/i18n.ts`ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚

å‚ç…§ï¼š[Config stub](https://github.com/adonisjs/i18n/blob/main/stubs/config/i18n.stub)

```ts
import app from '@adonisjs/core/services/app'
import { defineConfig, formatters, loaders } from '@adonisjs/i18n'

const i18nConfig = defineConfig({
  defaultLocale: 'en',
  formatter: formatters.icu(),

  loaders: [
    loaders.fs({
      location: app.languageFilesPath()
    })
  ],
})

export default i18nConfig
```

<dl>

<dt>

  formatter

</dt>

<dd>

ç¿»è¨³ã‚’ä¿å­˜ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’å®šç¾©ã—ã¾ã™ã€‚AdonisJSã¯ã€[ICUãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ](https://format-message.github.io/icu-message-format-for-translators/index.html)ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

ICUãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯ã€Crowdinã‚„Lokaliseãªã©ã®å¤šãã®ç¿»è¨³ã‚µãƒ¼ãƒ“ã‚¹ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹åºƒãå—ã‘å…¥ã‚Œã‚‰ã‚ŒãŸæ¨™æº–ã§ã™ã€‚

ã¾ãŸã€[ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼](#ã‚«ã‚¹ã‚¿ãƒ ç¿»è¨³ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã®ä½œæˆ)ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

</dd>

<dt>

  defaultLocale

</dt>

<dd>

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ­ã‚±ãƒ¼ãƒ«ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¨€èªã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„å ´åˆã€ç¿»è¨³ã¨å€¤ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯ã“ã®ãƒ­ã‚±ãƒ¼ãƒ«ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã—ã¾ã™ã€‚

</dd>

<dt id="config-fallback-locales">

  fallbackLocales

</dt>

<dd>

ãƒ­ã‚±ãƒ¼ãƒ«ã¨ãã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ­ã‚±ãƒ¼ãƒ«ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã™ã‚‹ã‚­ãƒ¼ãƒãƒªãƒ¥ãƒ¼ãƒšã‚¢ã§ã™ã€‚ãŸã¨ãˆã°ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚¹ãƒšã‚¤ãƒ³èªã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹å ´åˆã€ã‚«ã‚¿ãƒ«ãƒ¼ãƒ‹ãƒ£èªã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ã—ã¦å®šç¾©ã§ãã¾ã™ã€‚

```ts
export default defineConfig({
  formatter: formatters.icu(),
  defaultLocale: 'en',
  // highlight-start
  fallbackLocales: {
    ca: 'es' // ã‚«ã‚¿ãƒ«ãƒ¼ãƒ‹ãƒ£èªã‚’è©±ã™ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚¹ãƒšã‚¤ãƒ³èªã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¡¨ç¤º
  }
  // highlight-end
})
```

</dd>

<dt>

  supportedLocales

</dt>

<dd>

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒ­ã‚±ãƒ¼ãƒ«ã®é…åˆ—ã§ã™ã€‚

```ts
export default defineConfig({
  formatter: formatters.icu(),
  defaultLocale: 'en',
  // highlight-start
  supportedLocales: ['en', 'fr', 'it']
  // highlight-end
})
```

ã“ã®å€¤ã‚’å®šç¾©ã—ãªã„å ´åˆã€ç¿»è¨³ã‹ã‚‰`supportedLocales`ã‚’æ¨æ¸¬ã—ã¾ã™ã€‚ãŸã¨ãˆã°ã€è‹±èªã€ãƒ•ãƒ©ãƒ³ã‚¹èªã€ã‚¹ãƒšã‚¤ãƒ³èªã®ç¿»è¨³ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹å ´åˆã€`supportedLocales`ã®å€¤ã¯`['en', 'es', 'fr']`ã«ãªã‚Šã¾ã™ã€‚

</dd>

<dt>

  loaders

</dt>

<dd>

ç¿»è¨³ã‚’èª­ã¿è¾¼ã‚€ãŸã‚ã«ä½¿ç”¨ã™ã‚‹ãƒ­ãƒ¼ãƒ€ãƒ¼ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã§ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ãƒ­ãƒ¼ãƒ€ãƒ¼ã®ã¿ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ãŸã ã—ã€[ã‚«ã‚¹ã‚¿ãƒ ãƒ­ãƒ¼ãƒ€ãƒ¼](#ã‚«ã‚¹ã‚¿ãƒ ç¿»è¨³ãƒ­ãƒ¼ãƒ€ãƒ¼ã®ä½œæˆ)ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

</dd>

</dl>

## ç¿»è¨³ã®ä¿å­˜
ç¿»è¨³ã¯`resources/lang`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚[IETFè¨€èªã‚¿ã‚°](https://en.wikipedia.org/wiki/IETF_language_tag)å½¢å¼ã«ã—ãŸãŒã£ã¦ã€å„è¨€èªã”ã¨ã«ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä¾‹ï¼š

```
resources
â”œâ”€â”€ lang
â”‚   â”œâ”€â”€ en
â”‚   â””â”€â”€ fr
```

ç‰¹å®šã®åœ°åŸŸã®ãŸã‚ã®ç¿»è¨³ã‚’å®šç¾©ã™ã‚‹ã«ã¯ã€åœ°åŸŸã‚³ãƒ¼ãƒ‰ã‚’æŒã¤ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã™ã€‚æ¬¡ã®ä¾‹ã§ã¯ã€**è‹±èªï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«ï¼‰**ã€**è‹±èªï¼ˆã‚¢ãƒ¡ãƒªã‚«åˆè¡†å›½ï¼‰**ã€**è‹±èªï¼ˆã‚¤ã‚®ãƒªã‚¹ï¼‰**ã®ç•°ãªã‚‹ç¿»è¨³ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚

AdonisJSã¯ã€ãƒªãƒ¼ã‚¸ãƒ§ãƒ³å›ºæœ‰ã®ç¿»è¨³ã‚»ãƒƒãƒˆã§ç¿»è¨³ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã€**è‹±èªï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«ï¼‰**ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã—ã¾ã™ã€‚

å‚ç…§ï¼š[ISOè¨€èªã‚³ãƒ¼ãƒ‰](https://www.andiamo.co.uk/resources/iso-language-codes/)

```
resources
â”œâ”€â”€ lang
â”‚   â”œâ”€â”€ en
â”‚   â”œâ”€â”€ en-us
â”‚   â”œâ”€â”€ en-uk
```

### ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼
ç¿»è¨³ã¯`.json`ã¾ãŸã¯`.yaml`ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚ˆã‚Šè‰¯ã„æ•´ç†ã®ãŸã‚ã«ã€ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’ä½œæˆã—ã¦ã‚‚æ§‹ã„ã¾ã›ã‚“ã€‚

```
resources
â”œâ”€â”€ lang
â”‚   â”œâ”€â”€ en
â”‚   â”‚   â””â”€â”€ messages.json
â”‚   â””â”€â”€ fr
â”‚       â””â”€â”€ messages.json
```

ç¿»è¨³ã¯ã€[ICUãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ§‹æ–‡](https://format-message.github.io/icu-message-format-for-translators/index.html)ã«ã—ãŸãŒã£ã¦ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```json
// title: resources/lang/en/messages.json
{
  "greeting": "Hello world"
}
```

```json
// title: resources/lang/fr/messages.json
{
  "greeting": "Bonjour le monde"
}
```

## ç¿»è¨³ã®è§£æ±º
ç¿»è¨³ã‚’æ¤œç´¢ã—ã¦ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹å‰ã«ã€`i18nManager.locale`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã—ã¦ãƒ­ã‚±ãƒ¼ãƒ«å›ºæœ‰ã®[I18nã‚¯ãƒ©ã‚¹](https://github.com/adonisjs/i18n/blob/main/src/i18n.ts)ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```ts
import i18nManager from '@adonisjs/i18n/services/main'

// è‹±èªç”¨ã®I18nã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
const en = i18nManager.locale('en')

// ãƒ•ãƒ©ãƒ³ã‚¹èªç”¨ã®I18nã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
const fr = i18nManager.locale('fr')
```

`I18n`ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å–å¾—ã—ãŸã‚‰ã€`.t`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã—ã¦ç¿»è¨³ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ãã¾ã™ã€‚

```ts
const i18n = i18nManager.locale('en')
i18n.t('messages.greeting') // Hello world
```

```ts
const i18n = i18nManager.locale('fr')
i18n.t('messages.greeting') // Bonjour le monde
```

### ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ­ã‚±ãƒ¼ãƒ«

å„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã¯ã€[config.fallbackLocales](#config-fallback-locales)ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã«åŸºã¥ã„ã¦äº‹å‰ã«è¨­å®šã•ã‚ŒãŸãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨€èªãŒã‚ã‚Šã¾ã™ã€‚ãƒ¡ã‚¤ãƒ³ã®è¨€èªã«ç¿»è¨³ãŒãªã„å ´åˆã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

```ts
export default defineConfig({
  fallbackLocales: {
    'de-CH': 'de',
    'fr-CH': 'fr'
  }
})
```

```ts
const i18n = i18nManager.locale('de-CH')
i18n.fallbackLocale // deï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ï¼‰
```

```ts
const i18n = i18nManager.locale('fr-CH')
i18n.fallbackLocale // frï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ï¼‰
```

```ts
const i18n = i18nManager.locale('en')
i18n.fallbackLocale // enï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ­ã‚±ãƒ¼ãƒ«ã‚’ä½¿ç”¨ï¼‰
```

### ç¿»è¨³ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆ
ãƒ¡ã‚¤ãƒ³ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®ãƒ­ã‚±ãƒ¼ãƒ«ã®ä¸¡æ–¹ã§ç¿»è¨³ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã€`.t`ãƒ¡ã‚½ãƒƒãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼æ–‡å­—åˆ—ã‚’è¿”ã—ã¾ã™ã€‚

```ts
const i18n = i18nManager.locale('en')

i18n.t('messages.hero_title')
// translation missing: en, messages.hero_title
```

2ç•ªç›®ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å€¤ã¾ãŸã¯ç©ºã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åˆ¥ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¾ãŸã¯ç©ºã®æ–‡å­—åˆ—ã«ç½®ãæ›ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```ts
const fallbackValue = ''
i18n.t('messages.hero_title', fallbackValue)
// å‡ºåŠ›: ''
```

ã¾ãŸã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä»‹ã—ã¦ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å€¤ã‚’è¨ˆç®—ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚`fallback`ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€æœ€åˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦ç¿»è¨³ãƒ‘ã‚¹ã€2ç•ªç›®ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦ãƒ­ã‚±ãƒ¼ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’å—ã‘å–ã‚Šã¾ã™ã€‚å¸¸ã«æ–‡å­—åˆ—å€¤ã‚’è¿”ã™ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚

```ts
import { defineConfig } from '@adonisjs/i18n'

export default defineConfig({
  fallback: (identifier, locale) => {
  return ''
  },
})
```

## HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆä¸­ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ã‚±ãƒ¼ãƒ«ã®æ¤œå‡º
åˆæœŸè¨­å®šæ™‚ã«ã€`detect_user_locale_middleware.ts`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’`./app/middleware`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ä½œæˆã—ã¾ã™ã€‚ã“ã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã¯ã€æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

- [`Accept-language`ãƒ˜ãƒƒãƒ€ãƒ¼](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Language)ã‚’ä½¿ç”¨ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ­ã‚±ãƒ¼ãƒ«ã‚’æ¤œå‡ºã—ã¾ã™ã€‚

- ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ­ã‚±ãƒ¼ãƒ«ã®`I18n`ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ã€[HTTPã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ](../concepts/http_context.md)ã‚’ä»‹ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®æ®‹ã‚Šã®éƒ¨åˆ†ã¨å…±æœ‰ã—ã¾ã™ã€‚

- ã‚°ãƒ­ãƒ¼ãƒãƒ«ãª`i18n`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã—ã¦Edgeãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨å…±æœ‰ã™ã‚‹ãŸã‚ã«ã€åŒã˜ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

- æœ€å¾Œã«ã€[ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒãƒªãƒ‡ãƒ¼ã‚¿](../basics/validation.md#the-requestvalidateusing-method)ã«ãƒ•ãƒƒã‚¯ã—ã¦ã€ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¦ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æä¾›ã—ã¾ã™ã€‚

ã“ã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ãŒã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªå ´åˆã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã‚„Edgeãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã§æ¬¡ã®ã‚ˆã†ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¿»è¨³ã§ãã¾ã™ã€‚

```ts
import { HttpContext } from '@adonisjs/core/http'

export default class PostsController {
  async store({ i18n, session }: HttpContext) {
    session.flash('success', {
      message: i18n.t('post.created')
    })
  }
}
```

```edge
<h1> {{ t('messages.heroTitle') }} </h1>
```

### ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨€èªã®æ¤œå‡ºã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´
`detect_user_locale_middleware`ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®ä¸€éƒ¨ã§ã‚ã‚‹ãŸã‚ã€`getRequestLocale`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å¤‰æ›´ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨€èªã‚’æ¤œå‡ºã™ã‚‹ãŸã‚ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ­ã‚¸ãƒƒã‚¯ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

## ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ç¿»è¨³
`detect_user_locale_middleware`ã¯[ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒãƒªãƒ‡ãƒ¼ã‚¿](../basics/validation.md#the-requestvalidateusing-method)ã«ãƒ•ãƒƒã‚¯ã—ã€ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¦ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æä¾›ã—ã¾ã™ã€‚

```ts
export default class DetectUserLocaleMiddleware {
  static {
    // highlight-start
    RequestValidator.messagesProvider = (ctx) => {
      return ctx.i18n.createMessagesProvider()
    }
    // highlight-end
  }
}
```

ç¿»è¨³ã¯ã€`validator.json`ãƒ•ã‚¡ã‚¤ãƒ«å†…ã®`shared`ã‚­ãƒ¼ã«ä¿å­˜ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã¾ãŸã¯`field + rule`ã®çµ„ã¿åˆã‚ã›ã«å¯¾ã—ã¦å®šç¾©ã§ãã¾ã™ã€‚

```json
// title: resources/lang/en/validator.json
{
  "shared": {
    "fields": {
      "first_name": "first name"
    },
    "messages": {
      "required": "Enter {field}",
      "username.required": "Choose a username for your account",
      "email": "The email must be valid"
    }
  }
}
```

```json
// title: resources/lang/fr/validator.json
{
  "shared": {
    "fields": {
      "first_name": "PrÃ©nom"
    },
    "messages": {
      "required": "Remplisser le champ {field}",
      "username.required": "Choissisez un nom d'utilisateur pour votre compte",
      "email": "L'email doit Ãªtre valide"
    }
  }
}
```

### VineJSã‚’ç›´æ¥ä½¿ç”¨ã—ã¦ç¿»è¨³ã‚’åˆ©ç”¨ã™ã‚‹
HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆä¸­ã€`detect_user_locale_middleware`ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒãƒªãƒ‡ãƒ¼ã‚¿ã«ãƒ•ãƒƒã‚¯ã—ã€ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã‚’æä¾›ã™ã‚‹ãŸã‚ã®[ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ—ãƒ­ãƒã‚¤ãƒ€](https://vinejs.dev/docs/custom_error_messages#registering-messages-provider)ã‚’ç™»éŒ²ã—ã¾ã™ã€‚

ãŸã ã—ã€HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å¤–éƒ¨ã§VineJSã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€Aceã‚³ãƒãƒ³ãƒ‰ã‚„ã‚­ãƒ¥ãƒ¼ã‚¸ãƒ§ãƒ–ãªã©ã€`validator.validate`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™éš›ã«æ˜ç¤ºçš„ã«ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ—ãƒ­ãƒã‚¤ãƒ€ã‚’ç™»éŒ²ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```ts
import { createJobValidator } from '#validators/jobs'
import i18nManager from '@adonisjs/i18n/services/main'

/**
 * ç‰¹å®šã®ãƒ­ã‚±ãƒ¼ãƒ«ã«å¯¾ã™ã‚‹ i18n ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å–å¾—ã—ã¾ã™ã€‚
 */
const i18n = i18nManager.locale('fr')

await createJobValidator.validate(data, {
  /**
   * ç¿»è¨³ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ—ãƒ­ãƒã‚¤ãƒ€ã‚’ç™»éŒ²ã—ã¾ã™ã€‚
   */
  // highlight-start
  messagesProvider: i18n.createMessagesProvider()
  // highlight-end
})
```

## ICU ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

### ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

ICU ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ§‹æ–‡ã§ã¯ã€å‹•çš„ãªå€¤ã‚’å‚ç…§ã™ã‚‹ãŸã‚ã«å˜ä¸€ã®ä¸­æ‹¬å¼§ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

ä¾‹:
:::note
ICU ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ§‹æ–‡ã¯[ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“](https://github.com/formatjs/formatjs/pull/2039#issuecomment-951550150)ã®ã§ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã«ã¯ãƒ•ãƒ©ãƒƒãƒˆãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã—ã‹ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“ã€‚
:::

```json
{
  "greeting": "ã“ã‚“ã«ã¡ã¯ { username }"
}
```

```edge
{{ t('messages.greeting', { username: 'Virk' }) }}
```

ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…ã«HTMLã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ãŸã ã—ã€Edgeãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã§ã¯ã€HTMLã‚’ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã›ãšã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ãŸã‚ã«ã€3ã¤ã®[ä¸­æ‹¬å¼§](https://edgejs.dev/docs/interpolation#escaped-html-output)ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

```json
{
  "greeting": "<p> ã“ã‚“ã«ã¡ã¯ { username } </p>"
}
```

```edge
{{{ t('messages.greeting', { username: 'Virk' }) }}}
```

### æ•°å€¤ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
æ•°å€¤ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯ã€`{key, type, format}` ã®æ§‹æ–‡ã‚’ä½¿ç”¨ã—ã¦ç¿»è¨³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…ã§è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚ä»¥ä¸‹ã®ä¾‹ã§ã¯:

- `amount` ã¯å®Ÿè¡Œæ™‚ã®å€¤ã§ã™ã€‚
- `number` ã¯ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ç¨®é¡ã§ã™ã€‚
- `::currency/USD` ã¯é€šè²¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¨ [æ•°å€¤ã‚¹ã‚±ãƒ«ãƒˆãƒ³](https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#overview) ã§ã™ã€‚

```json
{
  "bagel_price": "ã“ã®ãƒ™ãƒ¼ã‚°ãƒ«ã®ä¾¡æ ¼ã¯ {amount, number, ::currency/USD} ã§ã™"
}
```

```edge
{{ t('bagel_price', { amount: 2.49 }) }}
```

```
ã“ã®ãƒ™ãƒ¼ã‚°ãƒ«ã®ä¾¡æ ¼ã¯ $2.49 ã§ã™
```

ä»¥ä¸‹ã¯ã€ç•°ãªã‚‹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¹ã‚¿ã‚¤ãƒ«ã¨æ•°å€¤ã‚¹ã‚±ãƒ«ãƒˆãƒ³ã‚’ä½¿ç”¨ã—ãŸ `number` ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ä¾‹ã§ã™ã€‚

```
ãƒãƒ¼ãƒ«ã®é•·ã•: {price, number, ::measure-unit/length-meter}
```

```
å£åº§æ®‹é«˜: {price, number, ::currency/USD compact-long}
```

### æ—¥ä»˜/æ™‚åˆ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
`{key, type, format}` ã®æ§‹æ–‡ã‚’ä½¿ç”¨ã—ã¦ã€[Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¾ãŸã¯ [luxon DateTime](https://moment.github.io/luxon/api-docs/index.html) ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ãã¾ã™ã€‚ä»¥ä¸‹ã®ä¾‹ã§ã¯:

- `expectedDate` ã¯å®Ÿè¡Œæ™‚ã®å€¤ã§ã™ã€‚
- `date` ã¯ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ç¨®é¡ã§ã™ã€‚
- `medium` ã¯æ—¥ä»˜ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã™ã€‚

```json
{
  "shipment_update": "ã”æ³¨æ–‡ã®å•†å“ã¯ {expectedDate, date, medium} ã«åˆ°ç€äºˆå®šã§ã™"
}
```

```edge
{{ t('shipment_update', { expectedDate: luxonDateTime }) }}
```

```
ã”æ³¨æ–‡ã®å•†å“ã¯ 2023å¹´10æœˆ16æ—¥ ã«åˆ°ç€äºˆå®šã§ã™
```

`time` ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ä½¿ç”¨ã—ã¦ã€å€¤ã‚’æ™‚åˆ»ã¨ã—ã¦ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

```json
{
  "appointment": "ä»Šæ—¥ã¯ {appointmentAt, time, ::h:m a} ã«äºˆç´„ãŒã‚ã‚Šã¾ã™"
}
```

```txt
ä»Šæ—¥ã¯ åˆå¾Œ2:48 ã«äºˆç´„ãŒã‚ã‚Šã¾ã™
```

ICUã¯ã€æ—¥ä»˜æ™‚åˆ»ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ãŸã‚ã®[å¤šãã®ãƒ‘ã‚¿ãƒ¼ãƒ³](https://unicode-org.github.io/icu/userguide/format_parse/datetime/#date-field-symbol-table)ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚ãŸã ã—ã€ãã‚Œã‚‰ã®ã™ã¹ã¦ãŒ ECMA402 ã® Intl API ã§åˆ©ç”¨ã§ãã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã—ãŸãŒã£ã¦ã€ä»¥ä¸‹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã¿ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

| ã‚·ãƒ³ãƒœãƒ« | èª¬æ˜                     |
|----------|--------------------------|
| `G`      | æ™‚ä»£æŒ‡å®šå­               |
| `y`      | å¹´                       |
| `M`      | æœˆ                       |
| `L`      | å˜ç‹¬ã®æœˆ                 |
| `d`      | æ—¥                       |
| `E`      | æ›œæ—¥                     |
| `e`      | ãƒ­ãƒ¼ã‚«ãƒ«ã®æ›œæ—¥ (e..eee ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“) |
| `c`      | å˜ç‹¬ã®ãƒ­ãƒ¼ã‚«ãƒ«ã®æ›œæ—¥ (c..ccc ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“) |
| `a`      | AM/PM ãƒãƒ¼ã‚«ãƒ¼           |
| `h`      | æ™‚ (1-12)                |
| `H`      | æ™‚ (0-23)                |
| `K`      | æ™‚ (0-11)                |
| `k`      | æ™‚ (1-24)                |
| `m`      | åˆ†                       |
| `s`      | ç§’                       |
| `z`      | ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³             |

### è¤‡æ•°å½¢ã®ãƒ«ãƒ¼ãƒ«
ICUãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ§‹æ–‡ã§ã¯ã€è¤‡æ•°å½¢ã®ãƒ«ãƒ¼ãƒ«ã‚’ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…ã§å®šç¾©ã§ãã¾ã™ã€‚

ä¾‹:
:::note

ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€è¤‡æ•°è¡Œã®ãƒ†ã‚­ã‚¹ãƒˆã‚’YAMLã§æ›¸ãæ–¹ãŒç°¡å˜ãªãŸã‚ã€YAMLã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

:::

```yaml
cart_summary:
  "ã‚«ãƒ¼ãƒˆã«ã¯ {itemsCount, plural,
    =0 {ã‚¢ã‚¤ãƒ†ãƒ ã¯ã‚ã‚Šã¾ã›ã‚“}
    one {1ã¤ã®ã‚¢ã‚¤ãƒ†ãƒ }
    other {#å€‹ã®ã‚¢ã‚¤ãƒ†ãƒ }
  } ãŒã‚ã‚Šã¾ã™"
```

```edge
{{ t('messages.cart_summary', { itemsCount: 1 }) }}
```

```
ã‚«ãƒ¼ãƒˆã«ã¯ 1ã¤ã®ã‚¢ã‚¤ãƒ†ãƒ  ãŒã‚ã‚Šã¾ã™
```

`#` ã¯æ•°å€¤ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ `{key, number}` ã¨ã—ã¦ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚Œã¾ã™ã€‚

```edge
{{ t('messages.cart_summary', { itemsCount: 1000 }) }}

{{-- å‡ºåŠ› --}}
{{-- ã‚«ãƒ¼ãƒˆã«ã¯ 1,000å€‹ã®ã‚¢ã‚¤ãƒ†ãƒ  ãŒã‚ã‚Šã¾ã™ --}}
```

è¤‡æ•°å½¢ã®ãƒ«ãƒ¼ãƒ«ã¯ `{key, plural, matches}` ã®æ§‹æ–‡ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚`matches` ã¯ã€ä»¥ä¸‹ã®è¤‡æ•°ã®ã‚«ãƒ†ã‚´ãƒªã®ã„ãšã‚Œã‹ã«ä¸€è‡´ã™ã‚‹ãƒªãƒ†ãƒ©ãƒ«å€¤ã§ã™ã€‚

| ã‚«ãƒ†ã‚´ãƒª | èª¬æ˜                                                                                                                                                                                                                          |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `zero`   | 0å€‹ã®ã‚¢ã‚¤ãƒ†ãƒ ã«ç‰¹åŒ–ã—ãŸæ–‡æ³•ã‚’æŒã¤è¨€èªã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ (ã‚¢ãƒ©ãƒ“ã‚¢èªã‚„ãƒ©ãƒˆãƒ“ã‚¢èªãªã©ã®ä¾‹)                                                                                                                                                               |
| `one`    | 1ã¤ã®ã‚¢ã‚¤ãƒ†ãƒ ã«æ˜ç¤ºçš„ã«ç‰¹åŒ–ã—ãŸæ–‡æ³•ã‚’æŒã¤è¨€èªã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚å¤šãã®è¨€èªãŒã“ã®è¤‡æ•°å½¢ã‚«ãƒ†ã‚´ãƒªã‚’ä½¿ç”¨ã—ã¾ã™ãŒã€ã™ã¹ã¦ã®è¨€èªãŒä½¿ç”¨ã™ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ (ä¸­å›½èªã‚„æ—¥æœ¬èªãªã©ã®å¤šãã®äººæ°—ã®ã‚ã‚‹ã‚¢ã‚¸ã‚¢è¨€èªã¯ã“ã®ã‚«ãƒ†ã‚´ãƒªã‚’ä½¿ç”¨ã—ã¾ã›ã‚“) |
| `two`    | 2ã¤ã®ã‚¢ã‚¤ãƒ†ãƒ ã«ç‰¹åŒ–ã—ãŸæ–‡æ³•ã‚’æŒã¤è¨€èªã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ (ã‚¢ãƒ©ãƒ“ã‚¢èªã‚„ã‚¦ã‚§ãƒ¼ãƒ«ã‚ºèªãªã©ã®ä¾‹)                                                                                                                                                               |
| `few`    | å°‘æ•°ã®ã‚¢ã‚¤ãƒ†ãƒ ã«ç‰¹åŒ–ã—ãŸæ–‡æ³•ã‚’æŒã¤è¨€èªã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ä¸€éƒ¨ã®è¨€èªã§ã¯ 2-4 å€‹ã®ã‚¢ã‚¤ãƒ†ãƒ ã«ä½¿ç”¨ã•ã‚Œã€ä¸€éƒ¨ã®è¨€èªã§ã¯ 3-10 å€‹ã®ã‚¢ã‚¤ãƒ†ãƒ ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ä»–ã®è¨€èªã§ã¯ã•ã‚‰ã«è¤‡é›‘ãªãƒ«ãƒ¼ãƒ«ãŒã‚ã‚Šã¾ã™ã€‚                                                                 |
| `many`   | å¤šæ•°ã®ã‚¢ã‚¤ãƒ†ãƒ ã«ç‰¹åŒ–ã—ãŸæ–‡æ³•ã‚’æŒã¤è¨€èªã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ (ã‚¢ãƒ©ãƒ“ã‚¢èªã‚„ãƒãƒ¼ãƒ©ãƒ³ãƒ‰èªã€ãƒ­ã‚·ã‚¢èªãªã©ã®ä¾‹)                                                                                                                                                               |
| `other`  | å€¤ãŒä»–ã®è¤‡æ•°å½¢ã‚«ãƒ†ã‚´ãƒªã¨ä¸€è‡´ã—ãªã„å ´åˆã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ã€å˜ç´”ãªã€Œå˜æ•°å½¢ã€ã¨ã€Œè¤‡æ•°å½¢ã€ã®äºŒåˆ†æ³•ã‚’æŒã¤è¨€èª (è‹±èªãªã©) ã§ã€Œè¤‡æ•°å½¢ã€ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚                                                                                   |
| `=value` | ç¾åœ¨ã®ãƒ­ã‚±ãƒ¼ãƒ«ã®è¤‡æ•°å½¢ã‚«ãƒ†ã‚´ãƒªã«é–¢ä¿‚ãªãã€ç‰¹å®šã®å€¤ã«ä¸€è‡´ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚                                                                                                                                                               |

> *ã“ã®è¡¨ã®å†…å®¹ã¯ [formatjs.io](https://formatjs.io/docs/core-concepts/icu-syntax/#plural-format) ã‚’å‚ç…§ã—ã¦ã„ã¾ã™*

### é¸æŠ
`select` ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€å€¤ã‚’è¤‡æ•°ã®é¸æŠè‚¢ã®ã„ãšã‚Œã‹ã«ä¸€è‡´ã•ã›ã¦å‡ºåŠ›ã‚’é¸æŠã§ãã¾ã™ã€‚æ€§åˆ¥ã«åŸºã¥ã„ãŸãƒ†ã‚­ã‚¹ãƒˆã‚’æ›¸ãã®ã« `select` ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯éå¸¸ã«ä¾¿åˆ©ã§ã™ã€‚

```yaml
// title: Yaml
auto_reply:
  "{gender, select,
    male {å½¼}
    female {å½¼å¥³}
    other {å½¼ã‚‰}
  } ãŒã™ãã«è¿”ä¿¡ã—ã¾ã™ã€‚"
```

```edge
{{ t('messages.auto_reply', { gender: 'female' }) }}
```

```
å½¼å¥³ ãŒã™ãã«è¿”ä¿¡ã—ã¾ã™ã€‚
```

### é¸æŠåºæ•°
`select ordinal` ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€åºæ•°ã®è¤‡æ•°å½¢ãƒ«ãƒ¼ãƒ«ã«åŸºã¥ã„ã¦å‡ºåŠ›ã‚’é¸æŠã§ãã¾ã™ã€‚ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯ `select` ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¨ä¼¼ã¦ã„ã¾ã™ãŒã€å€¤ã¯åºæ•°ã®è¤‡æ•°å½¢ã‚«ãƒ†ã‚´ãƒªã«ãƒãƒƒãƒ—ã•ã‚Œã¾ã™ã€‚

```yaml
anniversary_greeting:
  "ç§ã® {years, selectordinal,
    one {#å‘¨å¹´}
    two {#å‘¨å¹´}
    few {#å‘¨å¹´}
    other {#å‘¨å¹´}
  } ã§ã™"
```

```edge
{{ t('messages.anniversary_greeting', { years: 2 }) }}
```

```txt
ç§ã® 2å‘¨å¹´ ã§ã™
```

`select ordinal` ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯ `{key, selectordinal, matches}` ã®æ§‹æ–‡ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚`matches` ã¯ãƒªãƒ†ãƒ©ãƒ«å€¤ã§ã‚ã‚Šã€ä»¥ä¸‹ã®è¤‡æ•°ã®ã‚«ãƒ†ã‚´ãƒªã®ã„ãšã‚Œã‹ã«ä¸€è‡´ã—ã¾ã™ã€‚

| ã‚«ãƒ†ã‚´ãƒª | èª¬æ˜                                                                                                                                                                                                                          |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `zero`   | 0å€‹ã®ã‚¢ã‚¤ãƒ†ãƒ ã«ç‰¹åŒ–ã—ãŸæ–‡æ³•ã‚’æŒã¤è¨€èªã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ (ã‚¢ãƒ©ãƒ“ã‚¢èªã‚„ãƒ©ãƒˆãƒ“ã‚¢èªãªã©ã®ä¾‹)                                                                                                                                                               |
| `one`    | 1ã¤ã®ã‚¢ã‚¤ãƒ†ãƒ ã«æ˜ç¤ºçš„ã«ç‰¹åŒ–ã—ãŸæ–‡æ³•ã‚’æŒã¤è¨€èªã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚å¤šãã®è¨€èªãŒã“ã®è¤‡æ•°å½¢ã‚«ãƒ†ã‚´ãƒªã‚’ä½¿ç”¨ã—ã¾ã™ãŒã€ã™ã¹ã¦ã®è¨€èªãŒä½¿ç”¨ã™ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ (ä¸­å›½èªã‚„æ—¥æœ¬èªãªã©ã®å¤šãã®äººæ°—ã®ã‚ã‚‹ã‚¢ã‚¸ã‚¢è¨€èªã¯ã“ã®ã‚«ãƒ†ã‚´ãƒªã‚’ä½¿ç”¨ã—ã¾ã›ã‚“) |
| `two`    | 2ã¤ã®ã‚¢ã‚¤ãƒ†ãƒ ã«ç‰¹åŒ–ã—ãŸæ–‡æ³•ã‚’æŒã¤è¨€èªã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ (ã‚¢ãƒ©ãƒ“ã‚¢èªã‚„ã‚¦ã‚§ãƒ¼ãƒ«ã‚ºèªãªã©ã®ä¾‹)                                                                                                                                                               |
| `few`    | å°‘æ•°ã®ã‚¢ã‚¤ãƒ†ãƒ ã«ç‰¹åŒ–ã—ãŸæ–‡æ³•ã‚’æŒã¤è¨€èªã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ä¸€éƒ¨ã®è¨€èªã§ã¯ 2-4 å€‹ã®ã‚¢ã‚¤ãƒ†ãƒ ã«ä½¿ç”¨ã•ã‚Œã€ä¸€éƒ¨ã®è¨€èªã§ã¯ 3-10 å€‹ã®ã‚¢ã‚¤ãƒ†ãƒ ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ä»–ã®è¨€èªã§ã¯ã•ã‚‰ã«è¤‡é›‘ãªãƒ«ãƒ¼ãƒ«ãŒã‚ã‚Šã¾ã™ã€‚                                                                 |
| `many`   | å¤šæ•°ã®ã‚¢ã‚¤ãƒ†ãƒ ã«ç‰¹åŒ–ã—ãŸæ–‡æ³•ã‚’æŒã¤è¨€èªã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ (ã‚¢ãƒ©ãƒ“ã‚¢èªã‚„ãƒãƒ¼ãƒ©ãƒ³ãƒ‰èªã€ãƒ­ã‚·ã‚¢èªãªã©ã®ä¾‹)                                                                                                                                                               |
| `other`  | å€¤ãŒä»–ã®è¤‡æ•°å½¢ã‚«ãƒ†ã‚´ãƒªã¨ä¸€è‡´ã—ãªã„å ´åˆã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ã€å˜ç´”ãªã€Œå˜æ•°å½¢ã€ã¨ã€Œè¤‡æ•°å½¢ã€ã®äºŒåˆ†æ³•ã‚’æŒã¤è¨€èª (è‹±èªãªã©) ã§ã€Œè¤‡æ•°å½¢ã€ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚                                                                                   |
| `=value` | ç¾åœ¨ã®ãƒ­ã‚±ãƒ¼ãƒ«ã®è¤‡æ•°å½¢ã‚«ãƒ†ã‚´ãƒªã«é–¢ä¿‚ãªãã€ç‰¹å®šã®å€¤ã«ä¸€è‡´ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚                                                                                                                                                               |

> *ã“ã®è¡¨ã®å†…å®¹ã¯ [formatjs.io](https://formatjs.io/docs/core-concepts/icu-syntax/#selectordinal-format) ã‚’å‚ç…§ã—ã¦ã„ã¾ã™*

## å€¤ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
ä»¥ä¸‹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€[Node.js Intl API](https://nodejs.org/dist/latest/docs/api/intl.html) ã‚’ä½¿ç”¨ã—ã¦å€¤ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¾ã™ãŒã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå‘ä¸Šã—ã¦ã„ã¾ã™ã€‚[ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’å‚ç…§](https://github.com/poppinss/intl-formatter?tab=readme-ov-file#benchmarks)

### formatNumber
`Intl.NumberFormat` ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã—ã¦æ•°å€¤ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¾ã™ã€‚ä»¥ä¸‹ã®å¼•æ•°ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

1. ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹å€¤ã€‚
2. ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã® [`options` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat#options)ã€‚

```ts
import i18nManager from '@adonisjs/i18n/services/main'

i18nManager
  .locale('en')
  .formatNumber(123456.789, {
    maximumSignificantDigits: 3
  })
```

### formatCurrency
`Intl.NumberFormat` ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã—ã¦æ•°å€¤ã‚’é€šè²¨ã¨ã—ã¦ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¾ã™ã€‚`formatCurrency` ãƒ¡ã‚½ãƒƒãƒ‰ã¯æš—é»™çš„ã« `style = currency` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã—ã¾ã™ã€‚

```ts
import i18nManager from '@adonisjs/i18n/services/main'

i18nManager
  .locale('en')
  .formatCurrency(200, {
    currency: 'USD'
  })
```

### formatDate
`Intl.DateTimeFormat` ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã—ã¦æ—¥ä»˜ã¾ãŸã¯ luxon ã®æ—¥æ™‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¾ã™ã€‚ä»¥ä¸‹ã®å¼•æ•°ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

1. ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹å€¤ã€‚[Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¾ãŸã¯ [luxon DateTime](https://moment.github.io/luxon/api-docs/index.html) ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚
2. ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã® [`options` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/DateTimeFormat#options)ã€‚

```ts
import i18nManager from '@adonisjs/i18n/services/main'
import { DateTime } from 'luxon'

i18nManager
  .locale('en')
  .locale('en')
  .formatDate(new Date(), {
    dateStyle: 'long'
  })

// ã‚‚ã£ã¨ã‚‚luxonã®æ—¥æ™‚ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹
i18nManager
  .locale('en')
  .formatDate(DateTime.local(), {
    dateStyle: 'long'
  })
```

### formatTime
`Intl.DateTimeFormat`ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã€æ—¥ä»˜ã®å€¤ã‚’æ™‚åˆ»ã®æ–‡å­—åˆ—ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¾ã™ã€‚`formatTime`ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€æš—é»™çš„ã«`timeStyle = medium`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã—ã¾ã™ã€‚

```ts
import i18nManager from '@adonisjs/i18n/services/main'

i18nManager
  .locale('en')
  .formatTime(new Date())
```

### formatRelativeTime
`formatRelativeTime`ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€`Intl.RelativeTimeFormat`ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã—ã¦å€¤ã‚’ç›¸å¯¾æ™‚é–“è¡¨ç¾ã®æ–‡å­—åˆ—ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¾ã™ã€‚ãƒ¡ã‚½ãƒƒãƒ‰ã¯ä»¥ä¸‹ã®å¼•æ•°ã‚’å—ã‘å…¥ã‚Œã¾ã™ã€‚

- ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹å€¤ã€‚
- ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®å˜ä½ã€‚[å…¬å¼ã«ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹å˜ä½](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/RelativeTimeFormat/format)ã«åŠ ãˆã¦ã€è¿½åŠ ã®`auto`å˜ä½ã‚‚ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚
- ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®[options](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/RelativeTimeFormat/RelativeTimeFormat#options)ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‚

```ts
import { DateTime } from 'luxon'
import i18nManager from '@adonisjs/i18n/services/main'

const luxonDate = DateTime.local().plus({ hours: 2 })

i18nManager
  .locale('en')
  .formatRelativeTime(luxonDate, 'hours')
```

å˜ä½ã®å€¤ã‚’`auto`ã«è¨­å®šã™ã‚‹ã¨ã€æœ€é©ãªä¸€è‡´ã™ã‚‹å˜ä½ã§å·®åˆ†ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

```ts
const luxonDate = DateTime.local().plus({ hours: 2 })

I18n
  .locale('en')
  .formatRelativeTime(luxonDate, 'auto')

// 2æ™‚é–“å¾Œ ğŸ‘ˆ
```

```ts
const luxonDate = DateTime.local().plus({ hours: 200 })

I18n
  .locale('en')
  .formatRelativeTime(luxonDate, 'auto')

// 8æ—¥å¾Œ ğŸ‘ˆ
```

### formatPlural
`Intl.PluralRules`ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã€æ•°å€¤ã®è¤‡æ•°å½¢ã‚«ãƒ†ã‚´ãƒªã‚’è¦‹ã¤ã‘ã¾ã™ã€‚ä»¥ä¸‹ã®å¼•æ•°ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

1. è¤‡æ•°å½¢ã‚«ãƒ†ã‚´ãƒªã‚’è¦‹ã¤ã‘ã‚‹ãŸã‚ã®æ•°å€¤ã€‚
2. ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®[options](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/PluralRules/PluralRules#options)ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‚

```ts
import i18nManager from '@adonisjs/i18n/services/main'

i18nManager.i18nManager('en').formatPlural(0)
// other

i18nManager.i18nManager('en').formatPlural(1)
// one

i18nManager.i18nManager('en').formatPlural(2)
// other
```

### formatList
`Intl.ListFormat`ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã€æ–‡å­—åˆ—ã®é…åˆ—ã‚’æ–‡ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¾ã™ã€‚ä»¥ä¸‹ã®å¼•æ•°ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

1. ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹å€¤ã€‚
2. ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®[options](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/ListFormat/ListFormat#options)ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‚

```ts
import i18nManager from '@adonisjs/i18n/services/main'

i18nManager
  .locale('en')
  .formatList(['Me', 'myself', 'I'], { type: 'conjunction' })

// Me, myself and I
```

```ts
import i18nManager from '@adonisjs/i18n/services/main'

i18nManager
  .locale('en')
  .formatList(['5 hours', '3 minutes'], { type: 'unit' })

// 5 hours, 3 minutes
```

### formatDisplayNames
`Intl.DisplayNames`ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã€`currency`ã€`language`ã€`region`ã€ãŠã‚ˆã³`calendar`ã‚³ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºåã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¾ã™ã€‚ä»¥ä¸‹ã®å¼•æ•°ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

1. ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹ã‚³ãƒ¼ãƒ‰ã€‚`type`ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«ã‚ˆã£ã¦[å€¤ãŒç•°ãªã‚Šã¾ã™](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DisplayNames/of#code)ã€‚
2. [Options](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DisplayNames/DisplayNames#options)ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‚

```ts
import i18nManager from '@adonisjs/i18n/services/main'

i18nManager
  .locale('en')
  .formatDisplayNames('INR', { type: 'currency' })

// Indian Rupee
```

```ts
import i18nManager from '@adonisjs/i18n/services/main'

i18nManager
  .locale('en')
  .formatDisplayNames('en-US', { type: 'language' })

// American English
```

## i18n Ally VSCodeæ‹¡å¼µæ©Ÿèƒ½ã®è¨­å®š
VSCodeã®[i18n Ally](https://marketplace.visualstudio.com/items?itemName=Lokalise.i18n-ally)æ‹¡å¼µæ©Ÿèƒ½ã¯ã€ã‚³ãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿ã§ã®ç¿»è¨³ã®ã€Œä¿å­˜ã€ã€ã€Œæ¤œæŸ»ã€ã€ã€Œå‚ç…§ã€ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’æä¾›ã—ã¾ã™ã€‚

AdonisJSã¨ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«é€£æºã™ã‚‹ãŸã‚ã«ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®`.vscode`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«æ¬¡ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```sh
mkdir .vscode

touch .vscode/i18n-ally-custom-framework.yml
touch .vscode/settings.json
```

`settings.json`ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã®å†…å®¹ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚

```json
// title: .vscode/settings.json
{
  "i18n-ally.localesPaths": [
    "resources/lang"
  ],
  "i18n-ally.keystyle": "nested",
  "i18n-ally.namespace": true,
  "i18n-ally.editor.preferEditor": true,
  "i18n-ally.refactor.templates": [
    {
      "templates": [
        "{{ t('{key}'{args}) }}"
      ],
      "include": [
        "**/*.edge",
      ],
    },
  ]
}
```

`.vscode/i18n-ally-custom-framework.yml`ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã®å†…å®¹ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚

```yaml
// title: .vscode/i18n-ally-custom-framework.yml
languageIds:
  - edge
usageMatchRegex:
  - "[^\\w\\d]t\\(['\"`]({key})['\"`]"
sortKeys: true
```

## ä¸è¶³ã—ã¦ã„ã‚‹ç¿»è¨³ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒªã‚¹ãƒ‹ãƒ³ã‚°
`i18n:missing:translation`ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒªãƒƒã‚¹ãƒ³ã—ã¦ã€ã‚¢ãƒ—ãƒªå†…ã®ä¸è¶³ã—ã¦ã„ã‚‹ç¿»è¨³ã«ã¤ã„ã¦é€šçŸ¥ã‚’å—ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```ts
import emitter from '@adonisjs/core/services/emitter'

emitter.on('i18n:missing:translation', function (event) {
  console.log(event.identifier)
  console.log(event.hasFallback)
  console.log(event.locale)
})
```

## ç¿»è¨³ã®å†èª­ã¿è¾¼ã¿ã‚’å¼·åˆ¶ã™ã‚‹
`@adonisjs/i18n`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•æ™‚ã«ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ã€ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã®ãŸã‚ã«ãƒ¡ãƒ¢ãƒªå†…ã«ä¿å­˜ã—ã¾ã™ã€‚

ãŸã ã—ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œä¸­ã®çŠ¶æ…‹ã§ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã—ãŸå ´åˆã¯ã€`reloadTranslations`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã—ã¦ãƒ¡ãƒ¢ãƒªå†…ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ›´æ–°ã§ãã¾ã™ã€‚

```ts
import i18nManager from '@adonisjs/i18n/services/main'

await i18nManager.reloadTranslations()
```

## ã‚«ã‚¹ã‚¿ãƒ ç¿»è¨³ãƒ­ãƒ¼ãƒ€ãƒ¼ã®ä½œæˆ
ç¿»è¨³ãƒ­ãƒ¼ãƒ€ãƒ¼ã¯ã€æ°¸ç¶šã‚¹ãƒˆã‚¢ã‹ã‚‰ç¿»è¨³ã‚’èª­ã¿è¾¼ã‚€è²¬ä»»ã‚’æŒã¡ã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ãƒ­ãƒ¼ãƒ€ãƒ¼ã‚’æä¾›ã—ã¦ã„ã¾ã™ãŒã€ã‚«ã‚¹ã‚¿ãƒ ãƒ­ãƒ¼ãƒ€ãƒ¼ã‚’ç™»éŒ²ã™ã‚‹ãŸã‚ã®APIã‚‚æä¾›ã—ã¦ã„ã¾ã™ã€‚

ãƒ­ãƒ¼ãƒ€ãƒ¼ã¯[TranslationsLoaderContract](https://github.com/adonisjs/i18n/blob/main/src/types.ts#L73)ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã—ã€`load`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã—ã¦ã€ã‚­ãƒ¼ã¨å€¤ã®ãƒšã‚¢ã‚’æŒã¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚­ãƒ¼ã¯ãƒ­ã‚±ãƒ¼ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã‚ã‚Šã€å€¤ã¯ç¿»è¨³ã®ãƒªã‚¹ãƒˆã‚’æŒã¤ãƒ•ãƒ©ãƒƒãƒˆãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚

```ts
import type {
  LoaderFactory,
  TranslationsLoaderContract,
} from '@adonisjs/i18n/types'

/**
 * è¨­å®šã®ãŸã‚ã®TypeScriptã®å‹
 */
export type DbLoaderConfig = {
  connection: string
  tableName: string
}

/**
 * ãƒ­ãƒ¼ãƒ€ãƒ¼ã®å®Ÿè£…
 */
export class DbLoader implements TranslationsLoaderContract {
  constructor(public config: DbLoaderConfig) {
  }

  async load() {
    return {
      en: {
        'messages.greeting': 'Hello world',
      },
      fr: {
        'messages.greeting': 'Bonjour le monde',
      }
    }
  }
}

/**
 * ãƒ•ã‚¡ã‚¯ãƒˆãƒªé–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ãƒ­ãƒ¼ãƒ€ãƒ¼ã‚’å‚ç…§ã™ã‚‹
 * è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ãƒ­ãƒ¼ãƒ€ãƒ¼ã‚’å‚ç…§ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚
 */
export function dbLoader(config: DbLoaderConfig): LoaderFactory {
  return () => {
    return new DbLoader(config)
  }
}
```

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã§ã¯ã€æ¬¡ã®å€¤ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

- `DbLoaderConfig`: å—ã‘å…¥ã‚Œã‚‹è¨­å®šã®ãŸã‚ã®TypeScriptã®å‹ã€‚
- `DbLoader`: ã‚¯ãƒ©ã‚¹ã¨ã—ã¦ã®ãƒ­ãƒ¼ãƒ€ãƒ¼ã®å®Ÿè£…ã€‚`TranslationsLoaderContract`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«æº–æ‹ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
- `dbLoader`: æœ€å¾Œã«ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ãƒ­ãƒ¼ãƒ€ãƒ¼ã‚’å‚ç…§ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¯ãƒˆãƒªé–¢æ•°ã§ã™ã€‚

### ãƒ­ãƒ¼ãƒ€ãƒ¼ã®ä½¿ç”¨
ãƒ­ãƒ¼ãƒ€ãƒ¼ãŒä½œæˆã•ã‚ŒãŸã‚‰ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å†…ã§`dbLoader`ãƒ•ã‚¡ã‚¯ãƒˆãƒªé–¢æ•°ã‚’ä½¿ç”¨ã—ã¦å‚ç…§ã§ãã¾ã™ã€‚

```ts
import { defineConfig } from '@adonisjs/i18n'
import { dbLoader } from 'my-custom-package'

const i18nConfig = defineConfig({
  loaders: [
    dbLoader({
      connection: 'pg',
      tableName: 'translations'
    })
  ]
})
```

## ã‚«ã‚¹ã‚¿ãƒ ç¿»è¨³ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã®ä½œæˆ
ç¿»è¨³ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã¯ã€ç‰¹å®šã®å½¢å¼ã«ã—ãŸãŒã£ã¦ç¿»è¨³ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹è²¬ä»»ã‚’æŒã¡ã¾ã™ã€‚ICUãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ§‹æ–‡ã®å®Ÿè£…ã‚’æä¾›ã—ã¦ã„ã¾ã™ãŒã€ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã‚’ç™»éŒ²ã™ã‚‹ãŸã‚ã®è¿½åŠ ã®APIã‚‚æä¾›ã—ã¦ã„ã¾ã™ã€‚

ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã¯[TranslationsFormatterContract](https://github.com/adonisjs/i18n/blob/main/src/types.ts#L54)ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã—ã€`format`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã—ã¦ç¿»è¨³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```ts
import type {
  FormatterFactory,
  TranslationsLoaderContract,
} from '@adonisjs/i18n/types'

/**
 * ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã®å®Ÿè£…
 */
export class FluentFormatter implements TranslationsFormatterContract {
  format(
    message: string,
    locale: string,
    data?: Record<string, any>
  ): string {
    // ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚ŒãŸå€¤ã‚’è¿”ã™
  }
}

/**
 * ãƒ•ã‚¡ã‚¯ãƒˆãƒªé–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã‚’å‚ç…§ã™ã‚‹
 * è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã‚’å‚ç…§ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚
 */
export function fluentFormatter(): FormatterFactory {
  return () => {
    return new FluentFormatter()
  }
}
```

### ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã®ä½¿ç”¨
ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãŒä½œæˆã•ã‚ŒãŸã‚‰ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å†…ã§`fluentFormatter`ãƒ•ã‚¡ã‚¯ãƒˆãƒªé–¢æ•°ã‚’ä½¿ç”¨ã—ã¦å‚ç…§ã§ãã¾ã™ã€‚

```ts
import { defineConfig } from '@adonisjs/i18n'
import { fluentFormatter } from 'my-custom-package'

const i18nConfig = defineConfig({
  formatter: fluentFormatter()
})
```
